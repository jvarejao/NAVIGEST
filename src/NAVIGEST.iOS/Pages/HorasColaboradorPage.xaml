<?xml version="1.0" encoding="utf-8"?>
<ContentPage x:Class="NAVIGEST.iOS.Pages.HorasColaboradorPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:NAVIGEST.iOS.ViewModels"
             xmlns:models="clr-namespace:NAVIGEST.iOS.Models"
             xmlns:res="clr-namespace:NAVIGEST.Shared.Resources.Strings;assembly=NAVIGEST.Shared"
             x:DataType="vm:HorasColaboradorViewModel"
             BackgroundColor="{AppThemeBinding Light=#FFFFFF, Dark=#000000}"
             Title="{x:Static res:AppResources.HorasColaboradorPage_Title}">

    <ContentPage.ToolbarItems>
        <ToolbarItem Text="{x:Static res:AppResources.HorasColaboradorPage_AbsenceTypes}" Clicked="OnGerirTiposAusenciaClicked" Order="Primary"/>
    </ContentPage.ToolbarItems>

    <Grid RowDefinitions="Auto,*" Padding="0" RowSpacing="0">
        
        <!-- TABS HEADER -->
        <Grid Grid.Row="0" 
              ColumnDefinitions="*,*,*" 
              ColumnSpacing="0"
              Padding="8,8,8,0"
              BackgroundColor="{AppThemeBinding Light=#F5F5F7, Dark=#1C1C1E}">
            <Border x:Name="Tab1Border"
                    Grid.Column="0"
                    BackgroundColor="{AppThemeBinding Light=#0A84FF, Dark=#0A84FF}"
                    StrokeThickness="0"
                    Padding="12,10"
                    StrokeShape="RoundRectangle 8,8,0,0">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnTab1Tapped"/>
                </Border.GestureRecognizers>
                <Label x:Name="Tab1Label"
                       Text="{x:Static res:AppResources.HorasColaboradorPage_Summary}"
                       TextColor="White"
                       FontSize="14"
                       FontAttributes="Bold"
                       HorizontalTextAlignment="Center"/>
            </Border>
            
            <Border x:Name="Tab2Border"
                    Grid.Column="1"
                    BackgroundColor="{AppThemeBinding Light=#E5E5EA, Dark=#2C2C2E}"
                    StrokeThickness="0"
                    Padding="12,10"
                    Margin="2,0"
                    StrokeShape="RoundRectangle 8,8,0,0">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnTab2Tapped"/>
                </Border.GestureRecognizers>
                <Label x:Name="Tab2Label"
                       Text="{x:Static res:AppResources.HorasColaboradorPage_List}"
                       TextColor="{AppThemeBinding Light=#6E6E73, Dark=#8E8E93}"
                       FontSize="14"
                       HorizontalTextAlignment="Center"/>
            </Border>
            
            <Border x:Name="Tab3Border"
                    Grid.Column="2"
                    BackgroundColor="{AppThemeBinding Light=#E5E5EA, Dark=#2C2C2E}"
                    StrokeThickness="0"
                    Padding="12,10"
                    StrokeShape="RoundRectangle 8,8,0,0">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnTab3Tapped"/>
                </Border.GestureRecognizers>
                <Label x:Name="Tab3Label"
                       Text="{x:Static res:AppResources.HorasColaboradorPage_Calendar}"
                       TextColor="{AppThemeBinding Light=#6E6E73, Dark=#8E8E93}"
                       FontSize="14"
                       HorizontalTextAlignment="Center"/>
            </Border>
        </Grid>

        <!-- TAB CONTENT -->
        <ContentView Grid.Row="1" x:Name="TabContentView">
            <!-- <ContentView.GestureRecognizers>
                <SwipeGestureRecognizer Direction="Left" Swiped="OnSwipedLeft"/>
                <SwipeGestureRecognizer Direction="Right" Swiped="OnSwipedRight"/>
            </ContentView.GestureRecognizers> -->
            <!-- O conteúdo será trocado dinamicamente -->
        </ContentView>

        <!-- LOADING OVERLAY -->
        <Grid Grid.RowSpan="2"
              IsVisible="{Binding IsBusy}"
              BackgroundColor="#66000000">
            <ActivityIndicator IsRunning="True"
                               Color="{AppThemeBinding Light=#0A84FF, Dark=#0A84FF}"
                               WidthRequest="48"
                               HeightRequest="48"/>
        </Grid>
    </Grid>
</ContentPage>